(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-520326b3"],{"72ae":function(e,t,a){"use strict";var r=a("dc1a"),s=a.n(r);s.a},cb29:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"employees"},[a("EmployeeDashboard")],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"display-1 text-center mt-5"},[e._v(" UERM E-Triage Dashboard "),a("b",[e._v("Employees")])]),a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.date,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Date","prepend-icon":"fas fa-calendar",readonly:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",s,!1),r))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.changeDate}},[e._v("OK")])],1)],1),a("div",{staticClass:"text-center ma-12"},[e.cardFormLoading?a("v-progress-circular",{staticClass:"mx-3",attrs:{size:150,indeterminate:"",color:"primary"}}):e._e()],1),e.cardFormLoading?e._e():a("div",{staticClass:"d-flex flex-wrap mt-5"},[a("v-row",[a("v-col",[a("Card",{staticClass:"primary",attrs:{header:"Employees Today",employees:e.eTriageEmployeesCount,date:e.date,userType:"employees"}})],1),a("v-col",[a("Card",{staticClass:"error",attrs:{header:"For COVID ER",employees:e.eTriageEREmployees,date:e.date,userType:"employees"}})],1)],1),a("v-row",[a("v-col",[a("Card",{staticClass:"success",attrs:{header:"Male",employees:e.eTriageMaleEmployees,date:e.date,userType:"employees"}})],1),a("v-col",[a("Card",{staticClass:"pink",attrs:{header:"Female",employees:e.eTriageFemaleEmployees,date:e.date,userType:"employees"}})],1),a("v-col",[a("Card",{staticClass:"grey",attrs:{header:"Undisclosed Gender",employees:e.eTriageUndisclosedGender,date:e.date,userType:"employees"}})],1)],1),a("v-row",[a("v-col",[a("Card",{staticClass:"purple",attrs:{header:"Officer",employees:e.eTriageOfficerClass,date:e.date,userType:"employees"}})],1),a("v-col",[a("Card",{staticClass:"purple",attrs:{header:"Management",employees:e.eTriageManagementClass,date:e.date,userType:"employees"}})],1),a("v-col",[a("Card",{staticClass:"purple",attrs:{header:"Rank and File",employees:e.eTriageRankAndFileClass,date:e.date,userType:"employees"}})],1),a("v-col",[a("Card",{staticClass:"purple",attrs:{header:"Faculty",employees:e.eTriageFacultyClass,date:e.date,userType:"employees"}})],1),a("v-col",[a("Card",{staticClass:"purple",attrs:{header:"Residents/PGI",employees:e.eTriageResidentPGIClass,date:e.date,userType:"employees"}})],1)],1),a("v-row",[a("v-col",[a("Card",{staticClass:"cyan",attrs:{header:"Age Group 20 Below",employees:e.eTriageToday20Below,date:e.date,userType:"employees"}})],1),a("v-col",[a("Card",{staticClass:"cyan",attrs:{header:"Age Group 20 to 30",employees:e.eTriageToday20to30,date:e.date,userType:"employees"}})],1),a("v-col",[a("Card",{staticClass:"cyan",attrs:{header:"Age Group 30 to 40",employees:e.eTriageToday30to40,date:e.date,userType:"employees"}})],1),a("v-col",[a("Card",{staticClass:"cyan",attrs:{header:"Age Group 40 to 50",employees:e.eTriageToday40to50,date:e.date,userType:"employees"}})],1),a("v-col",[a("Card",{staticClass:"cyan",attrs:{header:"Age Group 50 to 60",employees:e.eTriageToday50to60,date:e.date,userType:"employees"}})],1),a("v-col",[a("Card",{staticClass:"cyan",attrs:{header:"Age Group 60 Above",employees:e.eTriageToday60Above,date:e.date,userType:"employees"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-auto d-flex text-center align-center justify-center pa-3",attrs:{color:"blue-grey",dark:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{attrs:{color:"primary",block:"",dark:""}},[a("div",{staticClass:"headline mb-1 text-center"},[e._v("DTR without ETriage")])]),a("v-list-item-action-text",{staticClass:"py-3"},[a("div",{staticClass:"headline text-center pt-2",staticStyle:{color:"white"}},[e._v(e._s(e.dtrWithoutTriage.length))])]),e.dtrFormLoading?a("v-progress-circular",{staticClass:"mx-3",attrs:{indeterminate:"",color:"white"}}):e._e(),e.dtrFormLoading||0!=e.dtrWithoutTriage?e._e():a("v-list-item-action-text",{staticClass:"text-center pt-3",staticStyle:{color:"white","font-size":"16px"}},[a("v-btn",{on:{click:e.getDTRWithoutTriage}},[e._v("Show details")])],1),e.dtrWithoutTriage.length>0?a("Detailed",{attrs:{persons:e.dtrWithoutTriage}}):e._e()],1)],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-auto d-flex align-center justify-center pa-3",attrs:{color:"red accent-4",dark:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{attrs:{color:"primary",block:"",dark:""}},[a("div",{staticClass:"headline mb-1 text-center",attrs:{color:"primary"}},[e._v("ETriage CIF")])]),a("v-list-item-action-text",{staticClass:"py-3"},[a("div",{staticClass:"headline text-center pt-2",staticStyle:{color:"white"}},[e._v(e._s(e.eTriageCIF.length))])]),a("v-dialog",{model:{value:e.isEtriageCIFShown,callback:function(t){e.isEtriageCIFShown=t},expression:"isEtriageCIFShown"}},[a("v-card",{attrs:{dark:""}},[a("div",{staticClass:"text-center mt-10"},[e.formLoading?a("v-progress-circular",{staticClass:"mx-3 mt-10",attrs:{indeterminate:"",color:"white"}}):e._e()],1),e.eTriageCIF.length>0&&!e.formLoading?a("EtriageCIF",{attrs:{persons:e.eTriageCIF,userType:"employees"}}):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"white",outlined:"",text:""},on:{click:function(t){e.isEtriageCIFShown=!1}}},[e._v("Close")])],1)],1)],1),a("v-list-item-action-text",{staticClass:"text-center pt-3",staticStyle:{color:"white","font-size":"16px"}},[a("v-btn",{on:{click:e.getEtriageCIF}},[e._v("Show Details")])],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-auto d-flex align-center justify-center pa-3",attrs:{color:"warning",dark:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{attrs:{color:"primary",block:"",dark:""}},[a("div",{staticClass:"headline mb-1 text-center",attrs:{color:"primary"}},[e._v("Historical Data")])]),a("v-list-item-action-text",{staticClass:"py-3"},[a("div",{staticClass:"headline text-center pt-2",staticStyle:{color:"white"}},[e._v(e._s(e.eTriageHistorical.length))])]),a("v-dialog",{model:{value:e.isDetailsShown,callback:function(t){e.isDetailsShown=t},expression:"isDetailsShown"}},[a("v-card",{attrs:{dark:""}},[a("div",{staticClass:"text-center mt-10"},[e.formLoading?a("v-progress-circular",{staticClass:"mx-3 mt-10",attrs:{indeterminate:"",color:"white"}}):e._e()],1),e.eTriageHistorical.length>0&&!e.formLoading?a("Detailed",{attrs:{persons:e.eTriageHistorical,userType:"employees"}}):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"white",outlined:"",text:""},on:{click:function(t){e.isDetailsShown=!1}}},[e._v("Close")])],1)],1)],1),a("v-list-item-action-text",{staticClass:"text-center pt-3",staticStyle:{color:"white","font-size":"16px"}},[a("v-btn",{on:{click:e.getHistorical}},[e._v("Show Historical")])],1)],1)],1)],1)],1)],1)],1)],1)},n=[],o=(a("96cf"),a("1da1")),c=a("5530"),l=a("2f62"),d=a("cd09"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"px-3"},[a("v-text-field",{staticClass:"mb-3",attrs:{"append-icon":"fa fa-search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.historicalDataTableHeaders,items:this.personsFiltered,search:e.search,expanded:e.expanded,"show-expand":"","single-expand":"","item-key":"name",dense:"","item-class":e.row_classes},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var r=t.headers,s=t.item;return[a("td",{class:{"red accent-4":e.checkIfCovidEr(s),success:e.checkIfCleared(s)},attrs:{colspan:r.length}},[a("v-simple-table",{class:{"red accent-4 pt-4":e.checkIfCovidEr(s),"success pt-4":e.checkIfCleared(s)},attrs:{border:"1",dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[a("tbody",[a("tr",[a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[e._v("OTHER INFORMATION")])]),a("tr",[a("th",{staticClass:"text-center",attrs:{width:"50%"}},[e._v("Symptoms and History")]),a("td",{staticClass:"text-center"},[e._v(e._s(s.symptomsAndHistory))])]),a("tr",[a("th",{staticClass:"text-center",attrs:{width:"50%"}},[e._v("Temperature")]),a("td",{staticClass:"text-center"},[e._v(e._s(s.temperature))])]),a("tr",[a("th",{staticClass:"text-center"},[e._v("Birthdate")]),a("td",{staticClass:"text-center"},[e._v(e._s(s.birthdate))])]),a("tr",[a("th",{staticClass:"text-center"},[e._v("Age")]),a("td",{staticClass:"text-center"},[e._v(e._s(s.age))])]),a("tr",[a("th",{staticClass:"text-center"},[e._v("Gender")]),a("td",{staticClass:"text-center"},[e._v(e._s(s.gender))])]),a("tr",[a("th",{staticClass:"text-center"},[e._v("Department")]),a("td",{staticClass:"text-center"},[e._v(e._s(s.department))])]),a("tr",[a("th",{staticClass:"text-center"},[e._v("Position")]),a("td",{staticClass:"text-center"},[e._v(e._s(s.position))])]),a("tr",[a("th",{staticClass:"text-center"},[e._v("Class")]),a("td",{staticClass:"text-center"},[e._v(e._s(s.class))])]),a("tr",[a("td",{attrs:{colspan:"2"}})])])]},proxy:!0}],null,!0)})],1)]}}])})],1)},u=[],m=(a("99af"),a("7db0"),a("d3b7"),{props:["persons","showClearButton","userType"],data:function(){return{search:"",expanded:[],personsFiltered:[],historicalDataTableHeaders:[{text:"Code",value:"code"},{text:"Name",value:"name"},{text:"Mobile #",value:"mobileNo"},{text:"ETriage Date Declared and CIF Trans Date",value:"etriage_datetime"},{text:"Disposition",value:"disposition"},{text:"Classification",value:"classification"}]}},computed:Object(c["a"])({},Object(l["b"])(["apiUrl","apiKey"])),methods:{checkIfCovidEr:function(e){return"infirmary"!=this.viewType&&(!e.isCleared&&1==e.isForCovidEr)},checkIfCleared:function(e){if(e.isCleared)return!0},row_classes:function(e){return"infirmary"!=this.viewType&&(e.isCleared?"success":1==e.isForCovidEr&&"red accent-4")},clearEmployee:function(e){var t=arguments,a=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var s,i,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=!(t.length>1&&void 0!==t[1])||t[1],i={id:e,isPastData:s,user:"7679"},r.next=4,fetch("".concat(a.apiUrl,"etriage/clear-employee?auth=").concat(a.apiKey),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});case 4:return n=r.sent,r.next=7,n.json();case 7:if(o=r.sent,!o.error){r.next=11;break}return a.formErrorMessage=o.message,r.abrupt("return");case 11:a.personsFiltered.find((function(t){return t.id==e})).isCleared=!0;case 12:case"end":return r.stop()}}),r)})))()}},created:function(){this.personsFiltered=this.persons}}),v=m,g=(a("72ae"),a("2877")),h=a("6544"),y=a.n(h),C=a("8fea"),f=a("1f4f"),T=a("8654"),x=Object(g["a"])(v,p,u,!1,null,null,null),b=x.exports;y()(x,{VDataTable:C["a"],VSimpleTable:f["a"],VTextField:T["a"]});var w=a("ba02"),_={components:{Detailed:d["a"],EtriageCIF:b,Card:w["a"]},data:function(){return{search:"",date:(new Date).toISOString().substr(0,10),menu:!1,isDetailsShown:!1,isEtriageCIFShown:!1}},computed:Object(c["a"])({},Object(l["b"])(["formLoading","cardFormLoading","dtrFormLoading","eTriageEmployeesCount","eTriageEREmployees","eTriageMaleEmployees","eTriageFemaleEmployees","eTriageUndisclosedGender","eTriageManagementClass","eTriageRankAndFileClass","eTriageOfficerClass","eTriageResidentPGIClass","eTriageFacultyClass","eTriageToday20Below","eTriageToday20to30","eTriageToday30to40","eTriageToday40to50","eTriageToday50to60","eTriageToday60Above","eTriageHistorical","eTriageCIF","dtrWithoutTriage"])),mounted:function(){localStorage.isLoggedIn||this.$router.push("/"),this.getETriageToday()},methods:{changeDate:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.menu.save(e.date),t.next=3,e.getETriageToday();case 3:case"end":return t.stop()}}),t)})))()},getETriageToday:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getETriageEmployees",e.date);case 2:case"end":return t.stop()}}),t)})))()},getDTRWithoutTriage:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getDTRWithoutTriage");case 2:case"end":return t.stop()}}),t)})))()},getHistorical:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isDetailsShown=!0,t.next=3,e.$store.dispatch("getTriageHistorical");case 3:case"end":return t.stop()}}),t)})))()},getEtriageCIF:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isEtriageCIFShown=!0,t.next=3,e.$store.dispatch("getEtriageCIF");case 3:case"end":return t.stop()}}),t)})))()}}},k=_,E=a("8336"),F=a("b0af"),I=a("99d9"),D=a("62ad"),S=a("a523"),R=a("2e4b"),O=a("169a"),V=a("da13"),j=a("5d23"),A=a("e449"),L=a("490a"),H=a("0fd9"),G=a("2fa4"),M=Object(g["a"])(k,i,n,!1,null,"d8672050",null),$=M.exports;y()(M,{VBtn:E["a"],VCard:F["a"],VCardActions:I["a"],VCol:D["a"],VContainer:S["a"],VDatePicker:R["a"],VDialog:O["a"],VListItem:V["a"],VListItemActionText:j["a"],VListItemContent:j["b"],VListItemTitle:j["d"],VMenu:A["a"],VProgressCircular:L["a"],VRow:H["a"],VSpacer:G["a"],VTextField:T["a"]});var P={name:"Employees",components:{EmployeeDashboard:$}},W=P,B=Object(g["a"])(W,r,s,!1,null,null,null);t["default"]=B.exports},dc1a:function(e,t,a){}}]);
//# sourceMappingURL=chunk-520326b3.e8637ed4.js.map